<p>I&#8217;ve been playing around with puppet recently and while trying to start up a client and get it to talk to the server I ran into this error:</p>

<blockquote>
<p>err: Could not request certificate: Retrieved certificate does not match private key; please remove certificate from server and regenerate it with the current key</p>
</blockquote>

<p>Apparently the root cause of this error is that the client&#8217;s ssl certificates have been messed up.</p>

<p>To fix it you have to remove all of the client&#8217;s ssl stuff, cd into the directory containing all the ssl info (/etc/puppet/ssl for me on a manual install of puppet 2.6) and remove all files, in all sub-directories, apart from <code>ca/serial</code>, which should contain 0000.</p>

<p>Then on the server revoke the client&#8217;s ssl certificate using:</p>

<pre><code>sudo pupetca --clean {client hostname}</code></pre>

<p>Then restart the client, resign it on the server and you&#8217;re good to go!</p>